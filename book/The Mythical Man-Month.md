---
title: The Mythical Man-Month
tags:
  - book
categories: 
date: 2024-10-06 11:26:01
date modified: 2024-10-14 11:07:51
---


<!-- more -->

## 焦油坑

> 前车之覆，后车之鉴

左上部分是**程序**(Program)。它本身是完整的，可以由作者在所开发的系统平台上运行。它通常是车库中产出的产品，以及作为单个程序员生产率的评估标准。

有两种途径可以使程序转变成更有用但是成本更高的产物，这两种途径表现为图中的边界。

水平边界以下，程序转变成**编程产品**(Programming Product)。这是可以被任何人运行、测试、修复和扩展的程序。它可以在多种操作系统平台上运行，供多套数据使用。要成为通用的编程产品，程序必须按照普遍认可的风格来编写，特别是输入的范围和形式必须广泛地适用于所有可以合理使用的基本算法。接着，对程序进行彻底测试，确保它的稳定性和可靠性，使其值得信赖。这就意味着必须准备、运行和记录详尽的测试用例库，用来检查输入的边界和范围。此外，要将程序提升为程序产品，还需要有完备的文档，每个人都可以加以使用、修复和扩展。经验数据表明，相同功能的编程产品的成本，至少是已调试的程序的成本的3倍。

![](https://github.com/amor-mio-de-mi-vida/picx-images-hosting/raw/master/books/image.3godzlfxpw.webp)

垂直边界的右边，程序转变成**编程系统**(Programming System)中的一个构件单元。它是在功能上能相互协作、具有规范的格式、可以进行交互的程序集合，并可以用来组装和搭建整个系统。要成为编程系统构件，程序必须按照一定的要求编制，使输入和输出在语法和语义上与精确定义的接口一致。同时程序还要符合预先定义的资源限制——内存空间、输入输出设备、计算机时间。最后，程序必须同其他系统构件单元一道，以任何能想象到的组合进行测试。由于测试用例会随着组合不断增加，所以测试的范围必须广泛。因为一些意想不到的交互会产生许多不易察觉的 bug，测试工作将会非常耗时，因此相同功能的编程系统构件的成本至少是独立程序的3倍。如果系统有大量的组成单元，成本还会更高。

右下部分代表**编程系统产品**(Programming Systems Product)。与以上的所有的简单的程序都不同的是，它的成本高达9倍。然而，只有它才是真正有用的产品，是大多数系统开发的目标。

## 人月神话

> 美食的烹调需要时间；片刻等待，更多美味，更多享受。

在众多软件项目中，**缺乏合理的进度安排**是造成项目滞后的最主要原因，它比其他所有因素加起来的影响还要大。

- 首先，我们对估算技术缺乏有效的研究，更加严肃地说，它反映了一种悄无声息但并不真实的假设——一切都将运作良好。

- 第二，我们采用的估算技术隐含地假设人和月可以互换，错误地将进度与工作量相互混淆。

- 第三，由于对自己的估算缺乏信心，软件经理通常不会有耐心持续地估算这项工作。

- 第四，对进度缺少跟踪和监督。在其他工程领域中，经过验证的跟踪技术和常规监督程序，在软件工程中常常被认为是大胆的革新。

- 第五，当意识到进度的偏移时，下意识(以及传统)的反应是增加人力。这就像使用汽油灭火一样，只会使事情更糟。越来越大的火势需要更多的汽油，从而进入了一场注定会导致灾难的循环。

### 乐观主义

{% note primary %}
**系统编程的进度安排背后的第一个错误的假设是：一切都将运作良好，每一项任务仅花费它所“应该”花费的时间。**
{% endnote%}

在单个的任务中，“一切都将运转正常”的假设在进度上具有可实现性。因为所遇到的延迟是一个概率分布曲线，“不会延迟”具有限定的概率，所以现实情况可能会像计划安排的那样顺利。然而大型的编程工作，或多或少包含了很多任务，某些任务间还具有前后的次序，从而一切正常的概率变得非常小，甚至接近于零。

### 人月

{% note primary %}
**第二个谬误的思考方式是在估计和进度安排中使用的工作量单位：人月。成本的确随开发产品的人数和时间的不同，有着很大的变化，进度却不是如此。**
{% endnote%}

人数和时间的互换仅仅适用于以下情况：某个任务可以分解给参与人员，并且他们之间不需要相互的交流。这在割小麦或收获棉花的工作中是可行的；而在系统编程中近乎不可能。

因为软件开发本质上是一项系统工作——错综复杂关系下的一种实践，沟通、交流的工作量非常大，它很快会消耗任务分解所节省下来的个人时间。从而，添加更多的人手，实际上是延长了而不是缩短了时间进度。

### 系统测试

{% note primary %}
**对于软件任务的进度安排，以下是我使用了很多年的经验法则：**

**1/3计划**

**1/6编码**

**1/4构件测试和早期系统测试**

**1/4系统测试，所有的构件已完成**
{% endnote %}

不为系统测试安排足够的时间简直就是一场灾难。因为延迟发生在项目快完成的时候。直到接近项目的发布日期，才有人发现进度上的问题。因此，坏消息没有任何预兆，很晚才出现在客户和项目经理面前。

### 空泛的估算

但为了满足顾客期望的日期而造成的不合理进度安排，在软件领域中却比其他任何工程领域要普遍得多。而且，非阶段化方法的采用，少得可怜的数据支持，加上完全借助软件经理的直觉，这样的方式很难生产出有力的、看似可靠的和规避风险的估计。

开发并推行生产率图表、缺陷率图表、估算规则等，而整个组织最终会从这些数据的共享上获益。

### 重复产生的进度灾难

{% note primary %}
**向进度落后的项目中增加人手，只会使进度更加落后。**
{% endnote %}

项目的时间依赖于顺序上的限制，人员的最大数量依赖于独立子任务的数量。从这两个数值可以推算出进度表，该表安排的人员较少，花费的时间较长(唯一的风险是产品可能会过时)。相反，分派较多的人手，计划较短的时间，将无法得到可行的进度安排。总之，在众多软件项目中，缺乏合理的进度安排是造成项目滞后的最主要原因，它比其他所有因素加起来的影响还要大。

## 外科手术队伍

> 这些研究表明，效率高和效率低的实施者之间个体差异非常大，经常能够达到数量级的水平。

如何在有意义的进度安排内创建大型的系统? 那么就让我们来仔细讨论一下这个问题。

### 问题

需要协作沟通的人员数量影响着开发成本，因为成本的主要组成部分是相互的沟通和交流，以及更正沟通不当所引起的不良结果(系统调试)。这一点，也暗示系统应该由尽可能少的人员来开发。实际上，绝大多数大型编程系统的经验显示出，一拥而上的开发方法是高成本的、速度缓慢的、低效的，开发出的是无法在概念上进行集成的产品。而对于真正意义上的大型系统，小型、精干队伍太慢了。

这种进退两难的境地是非常残酷的。对于效率和概念的完整性来说，最好由少数干练的人员来设计和开发，而对于大型系统，则需要大量的人手，以使产品能在时间上满足要求。如何调和这两方面的矛盾呢?

Harlan Mills 的提议提供了一个崭新的、创造性的解决方案建议大型项目的每一个部分由一个团队解决。

- **外科医生**：Mills 称之为首席程序员。他亲自定义功能和性能技术说明书，设计程序，编制源代码，测试以及书写技术文档。他使用例如 PLI 的结构化编程语言，拥有对计算机系统的访问能力；该计算机系统不仅能够进行测试，还能够存储程序的各种版本，以允许简单的文件更新，并对其文档提供文本编辑能力。首席程序员需要极高的天分、丰富的经验和应用数学、业务数据处理或其他方面的大量系统知识和应用知识。

- **副手**：他是外科医生的后备，能完成任何一部分工作，但是相对具有的经验较少。他的主要作用是作为设计的思考者、讨论者和评估人员。外科医生试图和他沟通设计，但不受到他建议的限制。副手经常在与其他团队讨论有关功能和接口问题时代表自己的小组。他需要详细了解所有的代码，研究设计策略的备选方案。显然，他充当外科医生的保险机制。他甚至可能编制代码，但对代码的任何部分，不承担具体的开发职责。

- **管理员**：他是外科医生的老板，必须在人员、薪酬、办公空间等方面具有决定权，但他绝对不能在这些事务上浪费任何时间。因而，他需要一个控制财务、人员、工作地点和办公设备的专业管理人员，该管理员充当与组织中其他管理机构的接口。Baker 建议，仅在项目具有法律、合同、报表和财务方面的需求时，管理员才具有全职责任。否则，一个管理员可以为两个团队服务。

- **编辑**：外科医生负责文档的生成——出于最大透明度的考虑，他必须创建各种文档，无论是对内部描述还是外部描述。而编辑根据外科医生的草稿或者口述，进行分析和重新组织，提供各种参考信息和书目，对多个版本进行维护，并监督文档生成的机制。

- **两个文秘**：管理员和编辑每个人需要一个文秘。管理员的文秘负责非产品文件和使项目协作一致。

- **程序职员**：他负责维护编程产品库中所有团队的技术记录。该职员接受文秘性质的培训，承担机器码文件和可读文件的相关管理责任。所有的计算机输入汇集到这个职员处。如果需要，他会对它们进行记录或者标识。输出列表会提交给程序职员，由他进行归档和编制索引。另外，他负责将任何模型的最新运行情况记录在状态日志中，而所有以前的结果则按时间顺序进行归档保存。

- **工具维护人员**：现在已经有很多文件编辑、文本编辑和交互式调试等工具，因此团队很少再需要自己的机器和机器操作人员。但是这些工具使用起来必须毫无疑问地具备令人满意的反应和可靠性。外科医生则是对这些工具的服务是否充分可用的唯一评判人员。他需要一个工具维护人员，保证所有基本服务的可靠性，以及承担团队成员所需要的特殊工具(特别是交互式计算机服务)的构建、维护和升级责任。即使已经拥有非常卓越的、可靠的集中式服务，每个团队仍然要有自己的工具维护人员。因为他的工作是检查他的外科医生所需要的工具，而不是其他团队的需要。工具维护人员常常要开发一些实用程序，编制具有目录的函数库以及宏库。

- **测试人员**：外科医生需要大量合适的测试用例，用来对他所编写的工作片段，以及对整个工作进行测试。因此，测试人员既是为他的各个功能设计系统测试用例的对手，也是为他的日常调试设计测试数据的助手。他还负责计划测试的步骤和为单元测试搭建测试平台。

- **语言专家**：随着 Algol 语言的出现，人们开始认识到，在大多数计算机项目中，总有一两个乐于掌握复杂编程语言的人。这些专家是非常有帮助的，大家会向他咨询。这些天才不同于外科医生，外科医生主要是系统设计者以及考虑系统的整体表现。而语言专家则寻找一种简洁、有效的使用语言的方法来解决复杂、晦涩或者棘手的问题。他通常需要对技术进行一些研究(2～3天)。通常一个语言专家可以为2～3个外科医生服务。

## 贵族专制、民主政治和系统设计

> 大教堂是艺术史上无与伦比的成就。它所宣扬的理念既不乏味也不混乱……它是一种风格上的极致，要完成这样一件艺术品，建筑大师要首尾融会贯通其前辈建筑师的成果，同时也完全掌握他们那个时代的建筑技术，并在运用这些技术时做到恰如其分，避免轻浮的炫耀，也绝不花哨。
>  
> 无疑当初正是Jean d'0rbais构思出了这个建筑的整体设计，这个设计得到了其后继建筑师的认同，至少在建筑的基本要素方面是如此。这就是这个宏伟的建筑能够如此和谐统一的原因之一。

在系统设计中，概念完整性应该是最重要的考虑因素。也就是说，为了反映一系列连贯的设计思路，宁可省略一些不规则的特性和改进，也不提倡独立和无法整合的系统，哪怕它们其实包含着许多很好的设计。

### 获得概念的完整性

对于给定级别的功能，能用最简洁和直接的方式来指明事情的系统是最好的。只有简洁是不够的。Mooers的TRAC语言和 Algol 68用很多独特的基本概念的方法进行衡量，达到了所需的简洁特性，但它们并不直白(straightforward)。要表达一件待完成的事情，常常需要对基本元素进行意料不到的复杂组合。而且，仅仅了解基本要素和组合规则还不够，还需要学习惯用的用法，以及在实际工作中如何进行组合。简洁和直白来自概念的完整性。每个部分必须反映相同的原理需求的一致平衡。在语法上，每个部分应使用相同的技巧；在语义上，应具有同样的相似性。因此，易用性实际上需要设计的一致性和概念上的完整性。

### 贵族专制统治和民主政治

对于非常大型的项目，将设计方法、体系结构方面的工作与具体实现相分离是获得概念完整性的强有力方法。

系统的体系结构(architecture)'指的是完整和详细的用户接口说明。对于计算机，它是编程手册；对于编译器，它是语言手册；对于控制程序，它是语言和函数调用手册；对于整个系统，它是用户要完成自己全部工作所需参考的手册的集合。

系统的概念完整性决定了其使用的容易程度。不能与系统基本概念进行整合的良好想法和特色，最好放到一边，不予考虑。如果出现了很多非常重要但不兼容的构想，就应该抛弃原来的设计，对不同基本概念进行合并，在合并后的系统上重新开始。

外部的体系结构规定实际上是增强，而不是限制实现小组的创造性。一旦他们将注意力集中在没有人解决过的问题上，创意就开始奔涌而出。在毫无限制的实现小组中，在进行结构上的决策时，会出现大量的想法和争议，对具体实现的关注反而会比较少。

概念完整性的缺乏导致系统开发和修改上要付出更昂贵的代价，我估计至少增加了一年的调试时间。概念的完整性的确要求系统只反映唯一的设计理念，用户所见的技术说明来自少数人的思想。实际工作被划分成体系结构、设计实现和物理实现，但这并不意味着该开发模式下的系统需要更长的时间来创建。经验显示恰恰相反，整个系统将会开发得更快，所需要的测试时间将更少。同工作广泛的水平分割相比，垂直划分从根本上大大减少了劳动量，使交流彻底地被简化，概念完整性得到了大幅提高。

## 画蛇填足

> 聚沙成塔，集腋成裘

