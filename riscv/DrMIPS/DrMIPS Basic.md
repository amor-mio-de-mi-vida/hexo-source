---
title: DrMIPS Basic
tags:
  - riscv
categories:
  - DrMIPS
date: 2024-10-01 20:41:27
date modified: 2024-10-10 22:54:22
---
本系列文章记录分析开源软件DrMIPS的过程。DrMIPS是MIPS处理器的模拟器。它允许您一步一步地跟踪装配程序的执行。数据路径的图形表示允许您查看处理器在内部的工作方式。

本篇文章主要记录DrMIPS手册内容以及DrMIPS的功能介绍。

## 用户界面
### Intro
![](https://github.com/amor-mio-de-mi-vida/picx-images-hosting/raw/master/drips/Pasted-image-20241003131524.5tr0cptjgs.webp)
显示的选项卡或窗口是：
- Code：代码编辑器，您可以在其中创建或编辑由模拟器执行的汇编程序。
- Assembled：代码组装成功后，会显示生成的机器指令。
- Registers：列出所有寄存器及其值。
- Data memory：显示数据存储器中的所有值。
- Datapath：数据路径的图形表示及其状态显示在这里。
### Code

这是代码编辑器，您可以在其中编写一个汇编程序。编辑器显示行号，并突出显示有效的语法。

功能点
- 撤销/重做更改
- 剪切/复制/粘贴文本
- 在代码中查找/替换单词。
- 可以通过“编辑”菜单或右键单击代码编辑器来访问这些操作。
- 代码可以保存到文件或从文件中读取。这些操作在“文件”菜单中可用。

- 可以按Ctrl+Space键自动完成您正在编写的关键字。这样做会显示一个可以完成该关键字的指令、伪指令、指令和标签列表。
- 显示一个窗口，显示列表中所选关键字的作用以及如何使用它。
- 在空白空间上按Ctrl+空格键将列出所有可用的指令、伪指令、指令和标签。
- 可以在CPU>支持的指令菜单中查看此信息。

- 通过从菜单中选择“执行”>“组装”或按工具栏中的相应按钮来组装程序。
- 如果程序出现错误，消息框将显示第一个错误，并在有错误的行数旁边出现一个感叹号图标。
- 可以将鼠标光标悬停在这些图标上，以发现错误是什么。
- 如果程序正确，则不会显示错误消息，然后可以继续执行它。

### Assemble

- 表格的每一行都对应于一个组装的指令，它包含其地址、机器代码和原始指令。
- 突出显示当前正在执行的指令。

- 如果模拟管道处理器，管道中的所有指令都会以不同的颜色突出显示，每个指令代表不同的阶段。不同的颜色意味着：
	- 蓝色：指令获取（IF）阶段。
	- 绿色：指令解码（ID）阶段。
	- 黄色：执行（EX）阶段。
	- 红色：内存访问（MEM）阶段。
	- 品红色：回写（WB）阶段。

- 将鼠标光标悬停在表格中的指令上将呈现一个工具提示。此工具提示显示指令的类型及其字段的值。
- 默认情况下，这些值以十进制格式显示。您可以使用选项卡/窗口底部的组合框将该格式更改为二进制或十六进制。除代码选项卡/窗口外，所有选项卡/窗口都可以使用此组合框。
- 要控制模拟，您可以使用“执行”菜单或工具栏。按Step执行一个指令，按Back step执行一个指令，Run执行整个程序，Restart恢复到第一个指令。


